(this["webpackJsonptask-manager"]=this["webpackJsonptask-manager"]||[]).push([[0],{2:function(e,t,a){e.exports={container:"homepage_container__OPiAt",heading:"homepage_heading__uP8q2",subHeading:"homepage_subHeading__2o6dl",serversContainer:"homepage_serversContainer__MbBcm",serverBlock:"homepage_serverBlock__oz4QM",serverIcon:"homepage_serverIcon__2NXg7",addTasksBlock:"homepage_addTasksBlock__8yed0",taskNumberInput:"homepage_taskNumberInput__2iwfX",tasksContainer:"homepage_tasksContainer__3Y4GO",helpingText:"homepage_helpingText__3DTg3"}},23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(13),i=a.n(r),o=(a(28),a(29),a(30),a(31),a(14)),c=a(15),l=a(20),u=a(19),d=a(2),k=a.n(d),v=a(50),m=a(51),h=a(6),f=a.n(h),p=a(16),g=a.n(p),x=function(e){return n.a.createElement("div",{className:f.a.taskContainer},n.a.createElement(m.a,{className:f.a.progressbar,now:e.data.progress,label:"".concat(e.data.progress,"%")}),n.a.createElement(v.a,{onClick:e.onRemove,disabled:e.data.isAssigned,className:f.a.deleteBtn},n.a.createElement(g.a,{alt:"Server_SVG",style:{fontSize:"24px",color:"white"}})),e.data.isAssigned?"":n.a.createElement("p",{className:f.a.helpText},"Waiting..."))},_=a(18),I=a.n(_),T=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}))},y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={servers:[],tasks:[],noOfTasks:0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.addServer()}},{key:"onChangeTasksInput",value:function(e){this.setState({noOfTasks:parseInt(e.target.value)})}},{key:"onAddTasks",value:function(){this.addTasks(this.state.noOfTasks),this.setState({noOfTasks:0})}},{key:"addServer",value:function(){var e=this,t=this.state.servers.slice();t.push({serverId:T(),task:null}),this.setState({servers:t},(function(){e.eventLoop()}))}},{key:"removeServer",value:function(e){var t=this.state.servers.slice(),a=t.findIndex((function(t){return t.serverId===e}));t.splice(a,1),this.setState({servers:t})}},{key:"addTasks",value:function(e){for(var t=this,a=this.state.tasks.slice(),s=0;s<e;s++)a.push({taskId:T(),isAssigned:!1,progress:0});this.setState({tasks:a},(function(){t.eventLoop()}))}},{key:"removeTask",value:function(e){var t=this.state.tasks.slice(),a=t.findIndex((function(t){return t.taskId===e}));t.splice(a,1),this.setState({tasks:t})}},{key:"taskProgressIncrease",value:function(e){var t=this.state.tasks.findIndex((function(t){return t.taskId===e})),a=this.state.tasks.slice();!a[t]||a[t].progress>=100||(a[t].progress+=1,this.setState({tasks:a}))}},{key:"beginTask",value:function(e){var t=this,a=setInterval((function(e){t.taskProgressIncrease(e)}),200,e);setTimeout((function(){t.endTask(a,e)}),2e4)}},{key:"endTask",value:function(e,t){var a=this;clearInterval(e);var s=this.state.tasks.findIndex((function(e){return e.taskId===t})),n=this.state.servers.findIndex((function(e){return e.task===t})),r=this.state.tasks.slice();r.splice(s,1);var i=this.state.servers.slice();i[n].task=null,this.setState({tasks:r,servers:i},(function(){a.eventLoop()}))}},{key:"eventLoop",value:function(){var e=this,t=this.state.servers.slice(),a=this.state.tasks.slice(),s=t.filter((function(e){return null===e.task})),n=a.filter((function(e){return!e.isAssigned}));s.length&&n.length&&s.forEach((function(s,r){var i=a.findIndex((function(e){return e.taskId===n[r].taskId})),o=t.findIndex((function(e){return s.serverId===e.serverId}));t.splice(o,1,{serverId:s.serverId,task:n[r].taskId}),a.splice(i,1,{taskId:n[r].taskId,isAssigned:!0,progress:0}),e.setState({servers:t,tasks:a},(function(){e.beginTask(n[r].taskId)}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.servers,s=t.tasks;return n.a.createElement("div",{className:k.a.container},n.a.createElement("h1",{className:k.a.heading},"Task Manager"),n.a.createElement("h2",{className:k.a.subHeading},"Servers"),n.a.createElement(v.a,{variant:"primary",className:k.a.addServerBtn,onClick:function(){return e.addServer()},disabled:a.length>9},"Add Server"),n.a.createElement("div",{className:k.a.serversContainer},a.map((function(t,s){return n.a.createElement("div",{key:t.serverId+s,className:k.a.serverBlock},n.a.createElement(I.a,{alt:"Server_SVG",style:{fontSize:"100px",color:"grey"}}),n.a.createElement("p",null,t.task?"Working..":"Idle"),n.a.createElement(v.a,{variant:"outline-primary",className:k.a.removeServerBtn,onClick:function(){return e.removeServer(t.serverId)},disabled:a.length<2||t.task},"Remove Server"))}))),n.a.createElement("h2",{className:k.a.subHeading},"Tasks"),n.a.createElement("div",{className:k.a.addTasksBlock},n.a.createElement("input",{className:k.a.taskNumberInput,type:"number",value:this.state.noOfTasks,onChange:function(t){return e.onChangeTasksInput(t)}}),n.a.createElement(v.a,{className:k.a.addTaskBtn,onClick:function(){return e.onAddTasks()},disabled:!this.state.noOfTasks},"Add Tasks")),n.a.createElement("p",{className:k.a.helpingText},"Remaining Tasks: ",this.state.tasks.length),n.a.createElement("div",{className:k.a.tasksContainer},s.map((function(t){return n.a.createElement(x,{key:t.taskId,data:t,onRemove:function(){return e.removeTask(t.taskId)}})}))))}}]),a}(n.a.Component);var E=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports={taskContainer:"task_taskContainer__1UH5Z",progressbar:"task_progressbar__3vAy6",deleteBtn:"task_deleteBtn__fY35z",helpText:"task_helpText__7fbLX"}}},[[23,1,2]]]);
//# sourceMappingURL=main.7f4cc1fe.chunk.js.map